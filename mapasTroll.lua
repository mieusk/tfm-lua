local maps = {}

--numero de vidas, dica
maps[1] = {6, 'O caminho está acima das nuvens. E o destino? Só com um trampolim.', 'Enigma | Difícil', 1, 240}
maps[2] = {14, '75 segundos. É o tempo que eu preciso. Um queijo falso, outro no topo. Outro bloco oco.', 'Enigma | Médio', 1, 150}
maps[3] = {1, 'Você está perdido. Completamente. ??? Óbvio e atrás.', 'Cronômetro | Extremo', 1, 80}
--local de variantes
--mapa joaninha gelo
maps[1][6] = [[<C><P L="1600" H="800" F="0" Ca="" MEDATA=";;;;-0;0:::1-"/><Z><S><S T="6" X="1014" Y="308" L="40" H="52" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="960" Y="377" L="10" H="85" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="961" Y="417" L="153" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="356" Y="380" L="235" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="3" X="119" Y="674" L="28" H="57" P="0,0,1,20,0,0,0,0"/><S T="6" X="475" Y="420" L="10" H="87" P="0,0,0.3,0.2,0,0,0,0"/><S T="19" X="903" Y="495" L="40" H="119" P="0,0,0.3,0,180,0,0,0"/><S T="19" X="260" Y="548" L="40" H="186" P="0,0,0.3,0,180,0,0,0"/><S T="6" X="245" Y="425" L="10" H="83" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="259" Y="464" L="39" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="120" Y="424" L="240" H="100" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="401" Y="461" L="140" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="1545" Y="772" L="151" H="81" P="0,0,0.3,0.2,0,0,0,0"/><S T="2" X="679" Y="734" L="233" H="91" P="0,0,0,1.2,0,0,0,0"/><S T="7" X="601" Y="751" L="1200" H="100" P="0,0,0.1,0.2,0,0,0,0"/><S T="6" X="1305" Y="807" L="240" H="100" P="0,0,0.45,0,-5,0,0,0" c="2"/><S T="9" X="839" Y="373" L="233" H="17" P="0,0,0,0,0,0,0,0"/><S T="9" X="598" Y="419" L="233" H="17" P="0,0,0,0,0,0,0,0"/><S T="6" X="1500" Y="755" L="280" H="100" P="0,0,0.3,0,-30,0,0,0" c="2"/><S T="8" X="1160" Y="35" L="49" H="31" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="67" Y="687" L="25" H="12" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="4" Y="578" L="10" H="256" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="941" Y="484" L="36" H="29" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="1598" Y="517" L="10" H="250" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="341" Y="514" L="116" H="10" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="4" X="285" Y="490" L="10" H="39" P="0,0,20,0.2,0,0,0,0" m=""/><S T="10" X="1123" Y="681" L="40" H="40" P="0,0,0.3,0.4,0,0,0,0"/><S T="10" X="1183" Y="618" L="40" H="40" P="0,0,0.3,0.5,0,0,0,0"/><S T="10" X="1465" Y="573" L="40" H="40" P="0,0,0.3,0.7,0,0,0,0"/><S T="10" X="1506" Y="613" L="40" H="40" P="0,0,0.7,0.3,0,0,0,0"/><S T="10" X="1392" Y="649" L="40" H="40" P="0,0,0.3,0.7,0,0,0,0"/><S T="4" X="1552" Y="418" L="97" H="183" P="0,0,20,0.2,0,0,0,0"/><S T="3" X="1596" Y="303" L="10" H="48" P="0,0,0,20,0,0,0,0"/><S T="9" X="1202" Y="292" L="10" H="95" P="0,0,0,0,0,0,0,0"/><S T="8" X="1090" Y="277" L="10" H="104" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="1187" Y="568" L="10" H="300" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="1497" Y="603" L="10" H="300" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="1151" Y="229" L="122" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="6" X="736" Y="317" L="40" H="40" P="0,0,0.3,0.2,0,0,0,0" N=""/><S T="6" X="736" Y="357" L="40" H="40" P="0,0,0.3,0.2,0,0,0,0" N=""/><S T="6" X="1073" Y="335" L="232" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="1190" Y="378" L="10" H="92" P="0,0,0.3,0.2,0,0,0,0"/><S T="6" X="360" Y="424" L="240" H="100" P="0,0,0.3,0.2,0,0,0,0" c="2" N=""/><S T="8" X="1552" Y="527" L="43" H="28" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="1591" Y="664" L="26" H="28" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="19" X="1612" Y="33" L="32" H="23" P="0,0,0.3,0,0,0,0,0" m=""/><S T="1" X="694" Y="274" L="40" H="40" P="0,0,1,0.2,0,0,0,0"/><S T="1" X="663" Y="203" L="40" H="40" P="0,0,1,0.2,0,0,0,0"/><S T="1" X="628" Y="130" L="40" H="40" P="0,0,1,0.2,0,0,0,0"/><S T="1" X="448" Y="266" L="40" H="40" P="0,0,0,0,0,0,0,0" c="2"/><S T="1" X="375" Y="197" L="40" H="40" P="0,0,0,0,0,0,0,0"/><S T="1" X="189" Y="267" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="135" Y="77" L="40" H="40" P="0,0,1,0,0,0,0,0"/><S T="1" X="108" Y="184" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="69" Y="145" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="332" Y="267" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="604" Y="34" L="40" H="40" P="0,0,1,0,0,0,0,0" m=""/><S T="1" X="319" Y="62" L="40" H="40" P="0,0,1,0,0,0,0,0" m=""/><S T="1" X="420" Y="112" L="40" H="40" P="0,0,1,0,0,0,0,0" m=""/><S T="1" X="693" Y="48" L="40" H="40" P="0,0,1,0,0,0,0,0" m=""/><S T="1" X="528" Y="108" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="249" Y="157" L="40" H="40" P="0,0,1,0,0,0,0,0" c="2"/><S T="1" X="537" Y="226" L="40" H="40" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="889" Y="130" L="40" H="40" P="0,0,0,0.2,0,0,0,0" c="2"/><S T="1" X="971" Y="80" L="40" H="40" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="339" Y="159" L="40" H="40" P="0,0,1,0.2,0,0,0,0" c="2"/><S T="1" X="416" Y="89" L="40" H="40" P="0,0,1,0.2,0,0,0,0"/><S T="1" X="327" Y="21" L="40" H="40" P="0,0,0,0.2,0,0,0,0" c="2"/><S T="1" X="775" Y="185" L="40" H="40" P="0,0,1,0.2,0,0,0,0"/><S T="8" X="28" Y="40" L="31" H="31" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="370" Y="233" L="31" H="31" P="0,0,0,0.2,0,0,0,0" c="1" m=""/><S T="6" X="1013" Y="116" L="40" H="229" P="0,0,0.3,0.2,180,0,0,0"/><S T="5" X="836" Y="424" L="240" H="100" P="0,0,0.3,0.2,0,0,0,0" c="2" N=""/><S T="8" X="970" Y="47" L="31" H="21" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="8" X="1078" Y="-389" L="10" H="800" P="0,0,0.3,0.2,10,0,0,0" c="1"/><S T="6" X="881" Y="379" L="137" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="6" X="814" Y="307" L="120" H="20" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="599" Y="446" L="240" H="55" P="0,0,0.3,0.2,0,0,0,0" N=""/><S T="6" X="1075" Y="380" L="240" H="100" P="0,0,0.3,0.2,0,0,0,0" c="2" N=""/><S T="9" X="783" Y="402" L="36" H="57" P="0,0,0,0,0,0,0,0" m=""/><S T="0" X="710" Y="425" L="95" H="10" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="810" Y="402" L="10" H="48" P="0,0,0.3,0.2,0,0,0,0"/><S T="2" X="778" Y="443" L="49" H="10" P="0,0,0,1.2,0,0,0,0"/><S T="4" X="1591" Y="704" L="24" H="63" P="0,0,20,0.2,0,0,0,0" m=""/><S T="8" X="712" Y="401" L="19" H="41" P="0,0,0.3,0.2,30,0,0,0" m=""/></S><D><P X="306" Y="372" T="113" P="0,0"/><P X="1065" Y="328" T="143" P="0,0"/><T X="1160" Y="52"/><T X="943" Y="501"/><P X="1111" Y="662" T="106" P="0,0"/><P X="204" Y="709" T="6" P="0,0"/><P X="852" Y="714" T="6" P="0,1"/><P X="1041" Y="702" T="3" P="0,0"/><P X="1029" Y="699" T="3" P="0,1"/><P X="393" Y="700" T="3" P="0,0"/><P X="307" Y="703" T="5" P="0,0"/><P X="181" Y="704" T="12" P="0,0"/><F X="1551" Y="532"/><T X="999" Y="384"/><T X="1591" Y="675"/><T X="1613" Y="46"/><T X="64" Y="703"/><F X="31" Y="47"/><F X="794" Y="12"/><F X="970" Y="54"/><P X="882" Y="372" T="12" P="0,0"/><P X="778" Y="364" T="82" P="0,0"/><F X="31" Y="47"/><F X="368" Y="239"/><P X="462" Y="376" T="4" P="0,0"/><P X="506" Y="419" T="11" P="0,0"/><P X="681" Y="413" T="81" P="1,0"/><P X="826" Y="703" T="3" P="0,0"/><P X="496" Y="703" T="0" P="0,0"/><P X="939" Y="703" T="8" P="0,0"/><P X="737" Y="298" T="178" P="0,0"/><P X="853" Y="299" T="254" P="0,0"/><P X="820" Y="298" T="268" P="0,0"/><DS X="1016" Y="267"/></D><O><O X="1150" Y="315" C="7" nosync="" P="0"/><O X="556" Y="391" C="605" P="0"/><O X="354" Y="352" C="605" P="0"/><O X="628" Y="389" C="605" P="0"/><O X="927" Y="344" C="605" P="0"/><O X="140" Y="354" C="605" P="0"/></O><L/></Z></C>]]

--mapa da noite com pedras
maps[2][6] = [[<C><P F="8" N="" Ca="" MEDATA=";;;;-0;0::0,0,0,0:1-"/><Z><S><S T="10" X="60" Y="339" L="120" H="133" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="321" Y="220" L="120" H="133" P="0,0,0.3,0,360,0,0,0"/><S T="10" X="321" Y="351" L="120" H="133" P="0,0,0.3,0,360,0,0,0" v="12000"/><S T="10" X="315" Y="126" L="120" H="133" P="0,0,0.3,0,450,0,0,0" v="29000"/><S T="10" X="621" Y="341" L="120" H="133" P="0,0,0.3,0,360,0,0,0" v="29000"/><S T="10" X="740" Y="238" L="120" H="133" P="0,0,0.3,0,360,0,0,0" v="30000"/><S T="10" X="-58" Y="253" L="120" H="133" P="0,0,0.3,0,450,0,0,0" v="9000"/><S T="10" X="322" Y="31" L="120" H="133" P="0,0,0.3,0,180,0,0,0"/><S T="10" X="740" Y="107" L="120" H="208" P="0,0,0.3,0,180,0,0,0" c="2"/><S T="10" X="740" Y="339" L="120" H="133" P="0,0,0.3,0,0,0,0,0"/><S T="5" X="168" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="208" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="288" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="328" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="368" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="5" X="408" Y="406" L="10" H="10" P="0,0,0.3,0.2,0,0,0,0"/><S T="9" X="446" Y="207" L="20" H="328" P="0,0,0,0,0,0,0,0" m=""/><S T="10" X="116" Y="168" L="10" H="10" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="181" Y="172" L="160" H="36" P="0,0,0.3,0,0,0,0,0"/><S T="10" X="60" Y="159" L="120" H="133" P="0,0,0.3,0,180,0,0,0"/><S T="10" X="39" Y="92" L="160" H="36" P="0,0,0.3,0,0,0,0,0"/><S T="0" X="26" Y="64" L="43" H="30" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="8" X="579" Y="21" L="401" H="10" P="0,0,0.3,0.2,0,0,0,0" c="1" m=""/><S T="3" X="819" Y="395" L="41" H="10" P="0,0,0,999999999,0,0,0,0"/><S T="0" X="687" Y="114" L="10" H="187" P="0,0,0.3,0.2,0,0,0,0" m=""/><S T="0" X="743" Y="206" L="98" H="10" P="1,1e-9,0.3,0.2,0,1,0,0" m=""/><S T="8" X="345" Y="17" L="259" H="10" P="0,0,0.3,0.2,0,0,0,0" c="1" v="75000" m=""/><S T="0" X="743" Y="206" L="98" H="10" P="1,1e-9,0.3,0.2,0,1,0,0" m=""/><S T="0" X="743" Y="206" L="98" H="10" P="1,1e-9,0.3,0.2,0,1,0,0" m=""/><S T="0" X="743" Y="206" L="98" H="10" P="1,1e-9,0.3,0.2,0,1,0,0" m=""/></S><D><F X="745" Y="269"/><T X="746" Y="74"/><F X="238" Y="14"/><F X="26" Y="69"/><F X="-22" Y="132"/><P X="146" Y="202" T="41" P="0,0"/><P X="188" Y="402" T="106" P="0,0"/><P X="242" Y="401" T="106" P="0,1"/><P X="310" Y="401" T="106" P="0,0"/><P X="347" Y="401" T="106" P="0,0"/><P X="386" Y="403" T="106" P="0,0"/><P X="428" Y="403" T="106" P="0,1"/><P X="69" Y="8" T="109" P="0,0"/><P X="218" Y="154" T="115" P="0,0"/><P X="32" Y="272" T="101" C="A3468E" P="0,0"/><P X="705" Y="289" T="116" P="0,0"/><P X="149" Y="156" T="113" P="0,0"/><DS X="61" Y="260"/></D><O/><L><JR M1="25"/><JR M1="27"/><JR M1="28"/><JR M1="29"/></L></Z></C>]]

maps[3][6] = [[<C><P L="3200" H="1600" F="8" Ca="" MEDATA=";;;;-0;0:::1-"/><Z><S><S T="10" X="1610" Y="805" L="40" H="200" P="0,0,0,0,0,0,0,0" v="5000"/><S T="10" X="1769" Y="807" L="40" H="200" P="0,0,0,0,0,0,0,0" v="17000"/><S T="10" X="1999" Y="809" L="40" H="200" P="0,0,0,0,0,0,0,0" c="3" N="" v="29000"/><S T="10" X="2276" Y="808" L="40" H="200" P="0,0,0,0,0,0,0,0" c="3" N="" v="45000"/><S T="10" X="1769" Y="693" L="40" H="200" P="0,0,0,0,180,0,0,0" c="4" v="27000"/><S T="10" X="1885" Y="1060" L="2000" H="400" P="0,0,0,0.5,360,0,0,0" c="3" N=""/><S T="10" X="1742" Y="481" L="2000" H="400" P="0,0,0.3,0,180,0,0,0" c="4" N=""/><S T="10" X="1123" Y="1106" L="2000" H="400" P="0,0,0.3,0,450,0,0,0" c="4" N=""/><S T="10" X="2690" Y="1142" L="2000" H="450" P="0,0,0.3,0,630,0,0,0" c="4" N=""/><S T="19" X="1329" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1369" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1409" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1449" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1489" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1529" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1569" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1609" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1649" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1689" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1729" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1769" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1809" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1849" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1889" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1929" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="1969" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2138" Y="861" L="165" H="25" P="0,99,0,0,360,1,0,0" c="3" v="45000" tint="D90000"/><S T="19" X="2009" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2049" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2089" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2129" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2169" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2209" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2249" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2289" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2329" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2369" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2409" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="19" X="2449" Y="678" L="25" H="25" P="1,99,0,0,220,1,0,0" tint="D90066"/><S T="8" X="1329" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="3000" m=""/><S T="8" X="1369" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="4500" m=""/><S T="8" X="1409" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="4800" m=""/><S T="8" X="1449" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="5500" m=""/><S T="8" X="1489" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="3000" m=""/><S T="8" X="1529" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="1500" m=""/><S T="8" X="1569" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="3000" m=""/><S T="8" X="1609" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="9000" m=""/><S T="8" X="1649" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="8500" m=""/><S T="8" X="1689" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="7000" m=""/><S T="8" X="1729" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="7000" m=""/><S T="8" X="1627" Y="589" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="17000" m=""/><S T="8" X="1769" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="18000" m=""/><S T="8" X="1809" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="18000" m=""/><S T="8" X="1779" Y="716" L="30" H="10" P="0,0,0.3,0.2,30,0,0,0" v="20000" m=""/><S T="8" X="1849" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="29000" m=""/><S T="8" X="1889" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="38000" m=""/><S T="8" X="1929" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="21000" m=""/><S T="8" X="1969" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="23000" m=""/><S T="8" X="2009" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="30500" m=""/><S T="8" X="2049" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="32000" m=""/><S T="8" X="2089" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="40000" m=""/><S T="8" X="2129" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="35000" m=""/><S T="8" X="2015" Y="555" L="30" H="10" P="0,0,0.3,0.2,90,0,0,0" v="38000" m=""/><S T="8" X="2169" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="43000" m=""/><S T="8" X="2209" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="35000" m=""/><S T="8" X="2249" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="46000" m=""/><S T="8" X="2289" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="45000" m=""/><S T="8" X="2329" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="50000" m=""/><S T="8" X="2369" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="46000" m=""/><S T="8" X="2409" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="45000" m=""/><S T="8" X="2449" Y="701" L="30" H="10" P="0,0,0.3,0.2,0,0,0,0" v="50500" m=""/><S T="19" X="890" Y="501" L="800" H="800" P="1,100,0.005,0,10,1,1.5,1.5" tint="B50039"/><S T="1" X="1941" Y="1098" L="3000" H="10" P="0,0,0,0.3,10,0,0,0"/><S T="10" X="1729" Y="846" L="40" H="24" P="0,0,0.3,0,0,0,0,0" c="3" v="15000"/><S T="10" X="2037" Y="849" L="40" H="24" P="0,0,0.3,0,0,0,0,0" c="3" v="45000"/><S T="10" X="2031" Y="775" L="40" H="24" P="0,0,1,0,90,0,0,0" c="3" v="40000" m=""/><S T="10" X="2132" Y="757" L="40" H="24" P="0,0,0.3,0,360,0,0,0" c="3" v="40000" m=""/><S T="10" X="2236" Y="850" L="40" H="24" P="0,0,0.3,0,0,0,0,0" c="3" v="45000"/><S T="10" X="2136" Y="838" L="40" H="24" P="0,0,0.3,0,0,0,0,0" c="4" v="35000"/><S T="10" X="1737" Y="774" L="40" H="24" P="0,0,2,0,-90,0,0,0" c="3" v="17000" m=""/><S T="10" X="1649" Y="778" L="40" H="24" P="0,0,0.3,0,0,0,0,0" c="2" v="12000"/><S T="8" X="1362" Y="712" L="30" H="10" P="0,0,0,0,20,0,0,0" v="5000" m=""/><S T="8" X="1908" Y="884" L="40" H="10" P="0,0,9,0,0,0,0,0" v="30000" m=""/><S T="8" X="1654" Y="728" L="26" H="15" P="0,0,2,0,0,0,0,0" c="3" v="20000" m=""/><S T="8" X="1908" Y="724" L="26" H="20" P="0,0,0.3,0.2,0,0,0,0" c="3" v="31000" m=""/><S T="8" X="2442" Y="847" L="22" H="17" P="0,0,0.3,0.2,0,0,0,0" c="3" m=""/><S T="0" X="2472" Y="791" L="10" H="114" P="0,0,0.3,0.2,0,0,0,0" c="3" m=""/><S T="0" X="2490" Y="899" L="10" H="114" P="0,0,0.3,0.2,0,0,0,0" c="2" m=""/><S T="2" X="1905" Y="862" L="15" H="15" P="0,0,0,0.4,20,0,0,0" v="25000"/><S T="1" X="1795" Y="660" L="206" H="12" P="0,0,0,0.2,-20,0,0,0" c="3" m=""/><S T="1" X="2402" Y="629" L="1000" H="10" P="0,0,0,0.2,0,0,0,0" c="3" m=""/><S T="7" X="2991" Y="681" L="184" H="63" P="0,0,0.1,0.2,0,0,0,0"/><S T="7" X="3162" Y="587" L="76" H="261" P="0,0,2,0.2,0,0,0,0"/><S T="12" X="3180" Y="460" L="34" H="10" P="0,0,0.3,99999999,0,0,0,0" o="000000"/><S T="1" X="3156" Y="-99" L="196" H="10" P="0,0,0,0.2,30,0,0,0"/><S T="1" X="2837" Y="-159" L="477" H="10" P="0,0,0,0.2,0,0,0,0"/><S T="1" X="17" Y="-110" L="10" H="183" P="0,0,0,0,10,0,0,0"/><S T="7" X="143" Y="112" L="286" H="97" P="0,0,0.1,0,0,0,0,0"/><S T="7" X="661" Y="1315" L="384" H="77" P="0,0,0.1,0.2,0,0,0,0"/><S T="8" X="2459" Y="629" L="41" H="10" P="0,0,0.3,0.2,0,0,0,0" v="55000" m=""/></S><D><F X="1653" Y="734"/><T X="2443" Y="858"/><F X="1907" Y="729"/><F X="1300" Y="854"/><F X="2441" Y="852"/><T X="2500" Y="861"/><P X="3053" Y="651" T="5" P="0,0"/><P X="2995" Y="652" T="8" P="0,0"/><P X="2942" Y="652" T="4" P="0,0"/><F X="255" Y="59"/><T X="829" Y="1276"/><DS X="1407" Y="844"/></D><O/><L/></Z></C>]]

local roam = {}

local actualMap = 1

for i=1, #maps do
	roam[#roam+1] = i
end

local fishyat = function(t)
    local s = {}
    for i = 1, #t do s[i] = t[i] end
    for i = #t, 2, -1 do
        local j = math.random(i)
        s[i], s[j] = s[j], s[i]
    end
    return s
end

roam = fishyat(roam)

do 
	local d = {'AutoShaman', 'DebugCommand', 'AutoNewGame', 'AutoTimeLeft', 'AfkDeath', 'AutoScore'}
  for i=1, #d do
    tfm.exec['disable'..d[i]]()
  end
end

local players = {} --name, hp

for k in next, tfm.get.room.playerList do
	players[k] = 0
end

tfm.exec.newGame(maps[roam[actualMap]][math.random(6, 5+maps[roam[actualMap]][4])])

local time = maps[roam[actualMap]][5]

print(maps[roam[actualMap]][5])

tfm.exec.setGameTime(time)
ui.setMapName(maps[roam[actualMap]][3])



eventLoop = function()
	time = time-0.5
	if time == 0 then
		actualMap = actualMap+1
		tfm.exec.newGame(maps[roam[actualMap]][math.random(6, 5+maps[roam[actualMap]][4])])
	end
end

eventPlayerDied = function(p)
	if players[p]+maps[roam[actualMap]][1] > 1 then
		tfm.exec.respawnPlayer(p)
	end
	players[p] = players[p]-1
	ui.addTextArea(0, '<font size="16" color="#010101" face="Consolas">'..maps[roam[actualMap]][1]+players[p], p, 8, 25, nil, nil, -1, -1, 0,  true)
	ui.addTextArea(1, '<font size="16" color="#EE3333" face="Consolas">'..maps[roam[actualMap]][1]+players[p], p, 7, 24, nil, nil, -1, -1, 0,  true)
	do
		local all = false
		for k, v in next, players do
			if maps[roam[actualMap]][1]+v > 0 then
				all = true
			end
		end
		if not all then
			tfm.exec.setGameTime(3)
			time = 5
		end
	end
end

eventPlayerWon = function(p)
	players[p] = -1/0
	eventPlayerDied(p)
end

eventNewPlayer = function(p)
	if players[p] then
		if players[p]+maps[roam[actualMap]][1] > 1 then
			tfm.exec.respawnPlayer(p)
			players[p] = players[p]-1
		end
	end
	ui.addTextArea(2, '<a href="event:clickHelp"><font size="16" color="#010101" face="Consolas">?', p, 8, 375, nil, nil, -1, -1, 0,  true)
	ui.addTextArea(3, '<a href="event:clickHelp"><font size="16" color="#EE3333" face="Consolas">?', p, 7, 376, nil, nil, -1, -1, 0,  true)
end

eventNewGame = function()
	for k in next, tfm.get.room.playerList do
		players[k] = 0
	end
	for k, v in next, players do
		ui.addTextArea(0, '<font size="16" color="#010101" face="Consolas">'..maps[roam[actualMap]][1]+v, k, 8, 25, nil, nil, -1, -1, 0,  true)
		ui.addTextArea(1, '<font size="16" color="#FF5555" face="Consolas">'..maps[roam[actualMap]][1]+v, k, 7, 24, nil, nil, -1, -1, 0,  true)
		ui.addTextArea(2, '<a href="event:clickHelp"><font size="18" color="#010101" face="Consolas">?', k, 8, 374, nil, nil, -1, -1, 0,  true)
		ui.addTextArea(3, '<a href="event:clickHelp"><font size="18" color="#EEEE33" face="Consolas">?', k, 7, 375, nil, nil, -1, -1, 0,  true)
	end
	time = maps[roam[actualMap]][5]
	tfm.exec.setGameTime(time)
	ui.setMapName(maps[roam[actualMap]][3])
	ui.removeTextArea(4)
	ui.removeTextArea(5)
end

eventTextAreaCallback = function(id, p, n)
	if n == "clickHelp" then
		ui.addTextArea(4, '<a href="event:clickRemove"><font size="12" color="#66FF99" face="Consolas">'..maps[roam[actualMap]][2], p, 27, 380, nil, nil, -1, -1, 0,  true)
		ui.addTextArea(5, '<a href="event:clickRemove"><font size="12" color="#010101" face="Consolas">'..maps[roam[actualMap]][2], p, 28, 381, nil, nil, -1, -1, 0,  true)
	elseif n == 'clickRemove' then
		ui.removeTextArea(4, p)
		ui.removeTextArea(5, p)
	end
end
